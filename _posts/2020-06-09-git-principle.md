---
layout: post
title: "git 学习笔记（4）"
date: 2020-06-09 12:14:25 +0800
categories: notes
tags: git
img: https://www.z4a.net/images/2020/06/10/u4248224721330618640fm26gp0.jpg
---
Git 基本原理


## 哈希

哈希是一个系列的加密算法，各个不同的哈希算法虽然加密强度不同，但是有以下 几个共同点：

①不管输入数据的数据量有多大，输入同一个哈希算法，得到的加密结果长度固定。

②哈希算法确定，输入数据确定，输出数据能够保证不变

③哈希算法确定，输入数据有变化，输出数据一定有变化，而且通常变化很大

④哈希算法不可逆

Git 底层采用的是 SHA-1 算法。 哈希算法可以被用来验证文件。原理如下图所示：

![](https://www.z4a.net/images/2020/06/16/git_0401.md.png)


## git保存版本的机制

### 集中式版本控制工具的文件管理机制

以文件变更列表的方式存储信息。这类系统将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异。

当前版本的数据=初始文件+修改的文件（增量式开发）

![](https://www.z4a.net/images/2020/06/16/git_04_01.md.png)




### Git 的文件管理机制

Git 把数据看作是小型文件系统的一组快照。每次提交更新时 Git 都会对当前的全部文件制作一个快照并保存这个快照的索引。为了高效，如果文件没有修改，Git不再重新存储该文件，而是只保留一个链接指向之前存储的文件。所以Git的工作方式可以称之为快照流。

![](https://www.z4a.net/images/2020/06/16/git_04_02.md.png)



### Git 文件管理机制细节

Git 的“提交对象”

提交对象，树对象，文件对象

![](https://www.z4a.net/images/2020/06/16/git_04_03.md.png)

提交对象及其父对象形成的链条

![](https://www.z4a.net/images/2020/06/16/git_04_04.md.png)


## Git分支管理机制

### 分支的创建

创建分支时新建一个指针，指向某一版本

![](https://www.z4a.net/images/2020/06/16/git_04_05.md.png)


### 分支的切换

将head的指针指向testing，提交时只会影响testing，即只是切换了指针指向的位置

![](https://www.z4a.net/images/2020/06/16/git_04_06.md.png)


![](https://www.z4a.net/images/2020/06/16/git_04_07.md.png)


![](https://www.z4a.net/images/2020/06/16/git_04_08.md.png)



![](https://www.z4a.net/images/2020/06/16/git_04_09.md.png)
